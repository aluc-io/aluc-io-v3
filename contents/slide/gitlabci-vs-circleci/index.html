<!DOCTYPE html>
<html>
  <head>
    <title>gitlabci-vs-circleci</title>
    <meta charset="utf-8">
    <meta property="og:url" content=""/>
    <meta property="og:title" content="gitlabci-vs-circleci" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="gitlabci vs circleci" />
    <link href="./css/Lato-Nanum-Gothic.css" rel="stylesheet">
    <link href="./css/Yanone-Kaffeesatz.css" rel="stylesheet">
    <link href="./css/Droid-Serif-400-700-400italic.css" rel="stylesheet">
    <link href="./css/Ubuntu-Mono-400-700-400italic.css" rel="stylesheet">
    <link href="./css/notosanskr.css" rel="stylesheet">
    <link href="./css/user.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <textarea id="source">

layout: false

class: page-10

## GitLab ê³ ì¸ë¬¼ ìœ ì €ê°€ ì„¤ëª…í•˜ëŠ” ë””í…Œì¼ ë¹„êµ,
### GitLabCI vs. CircleCI

.logo-wrapper.right.right-bottom.list-unstyled[
- aluc
- https://aluc.io/
- Wed Jan 29 2020
]

---

class: gvsc-page, hljs-font-size-22

# aluc?

.flexBox[
.half-left[
```yml
- ë‹‰ë„¤ì„: aluc
- ë‹‰ë„¤ì„: aluc
- í•˜ëŠ” ì¼:
    - Cloud Native ì•± ì„¤ê³„, ê°œë°œ, ìš´ì˜ì— ê´€ì‹¬ ë§ì€
    - SW Engineer
- ì„ í˜¸í•˜ëŠ” ë„êµ¬ì™€ ë°©ì‹
    - MacOS > Ubuntu >>> Windows
    - Stateless > Stateful
    - Serverless > Container >>> Others
    - IaS >>> Web Console
    - React >> Vue > Angular
    - typescript >> javascript
    - Slack > Mattermost
    - VS Code > InterlliJ > Vim >>> Eclipse
    - gitlab <> github
    - CircleCI > GitLabCI > Jenkins
    - Automatic Car > Manual Car
```
]

.half-right-profile[
.img-box[.img-profile[![](./img/1566283512570-7-2.jpg)]]]
]

---

class: youtube

[.img-big-70p-center[![](./img/1280px-YouTube_Logo.svg.png)]](https://www.youtube.com/channel/UCe3BVXxphvaub3pdFMta2pQ)

---

class: gvsc-page

# TOC

.flexBox[
.half-left[
- Public information on the internet
- Basic information
- Architecture
- VM or Physical Server Management
- Available Executor
- Entry configure file
- Configure file management
- Configure file - Auto completion by scheme
- Configure file - lint
]
.half-right[
- Hello world
- Docker image
- Multiple jobs
- Cache
- Artifacts
- Share Data Among Jobs
- Unit test result
- Linked project
- Permission
- Environments variables
- Debugging
- Yaml anchors
- Web UI
- Conclusion
- References
]
]

---

class: gvsc-page

# Public information on the internet

- Google trend: https://trends.google.com/trends/explore?q=gitlab%20ci,circleci

- Stackshare: https://stackshare.io/stackups/circleci-vs-gitlab-ci-vs-gitlab

- CircleCI's GitLabCI to CircleCI Migration:
    - https://circleci.com/docs/2.0/migrating-from-gitlab/

- GitLab's CircleCI vs. GitLab
    - https://about.gitlab.com/devops-tools/circle-ci-vs-gitlab.html

.think[
- ì¸í„°ë„·ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‘ ì†”ë£¨ì…˜ì˜ ë¹„êµ ì •ë³´ ì…ë‹ˆë‹¤
]

---

class: gvsc-page

# Basic information

.flexBox[
.half-left[
## GitLabCI
- https://gitlab.com/gitlab-org/gitlab
- https://gitlab.com/gitlab-org/gitlab-runner
- SaaS and Enterprise, Self-Managed
- 2011: Start of GitLab
- 2012ë…„ 11ì›” November first version of GitLab CI
- Recent Big Breaking Change: 2015ë…„ 9ì›” 22ì¼ GitLab 8.0 ë¶€í„° GitLab í”„ë¡œì íŠ¸ì™€ í†µí•©
- ìŠ¬ë¼ì´ë“œ ì‘ì„± ë‹¹ì‹œ GitLab ë²„ì „: [12.7](https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/)
]

.half-right[
## CircleCI
- https://circleci.com/
- Support github, github enterprise, bitbucket
- Saas and Enterprise
- 2016ë…„ 5ì›” 12ì¼ 0.2.36 release
- Recent Big Breaking Change: 2017ë…„ 9ì›” 6ì¼ 2.0 ë²„ì „ release
- ìŠ¬ë¼ì´ë“œ ì‘ì„± ë‹¹ì‹œ ë²„ì „: [2.18.03](https://circleci.com/server/changelog/#2-18-03)
]
]

.think[
- GitLbCIì™€ CircleCIë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì•ìœ¼ë¡œì˜ ìŠ¬ë¼ì´ë“œì—ì„œ,
- .icon-gitlab[![](./img/logo-gitlab.png)] <- ì´ ì•„ì´ì½˜ì€ ì œê°€ ìƒê°í•˜ëŠ” GitLabCIì˜ ì¥ì ì´ë©°,
- .icon-circleci[![](./img/logo-circleci.png)] <- ì´ ì•„ì´ì½˜ì€ ì œê°€ ìƒê°í•˜ëŠ” CircleCIì˜ ì¥ì ì…ë‹ˆë‹¤.
- ê¸°ìˆ ì  ì„ í˜¸ì— ë”°ë¥¸ ê°œì¸ì ì¸ ì˜ê²¬ì¼ ë¿ ë‘ ê¸°ìˆ ì˜ ìš°ì—´ì„ ë”°ì§€ê³ ì í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹ˆ ì°¸ê³ ë¡œë§Œ ë´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ìš°í•˜ë‹¨ í˜ì´ì§€ í‘œì‹œ ì˜†ì— â¬‡ï¸ ì•„ì´ì½˜ì´ ìˆìœ¼ë©´ ìŠ¤í¬ë¡¤ì„ í•˜ì—¬ ì¶”ê°€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
]
---

class: gvsc-page

# Architecture

.flexBox[
.half-left[
.center[![](./img/ci-cd-architecture_2x.png)]
]

.half-right[
.center[![](./img/ccie_arch.png)]
]
]

.think-relative[
- GitLabCIëŠ” polling ë°©ì‹, CircleCIëŠ” webhook ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
- .icon-gitlab[![](./img/logo-gitlab.png)]Polling ë°©ì‹ ë•ë¶„ì— ì‹¤ì œ ë¹Œë“œê°€ ìˆ˜í–‰ë˜ëŠ” í™˜ê²½ì¸ gitlab-runnerë¥¼ ì–´ë””ì„œë“  ì‰½ê²Œ êµ¬ë™ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
]

---

class: gvsc-page, scroll

# VM or Physical Server Management

.flexBox[
.half-left[
## GitLabCI
- Shared Runners: Managed by system admin
- Group Runners, Specific Runners: Self-hosted
- Self-hosted ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´,
    - gitlab-runnerê°€ êµ¬ë™ë˜ëŠ” VMì´ë‚˜ ë¬¼ë¦¬ë¨¸ì‹ ì„ ê´€ë¦¬í•´ì•¼í•¨.
    - DinD, DooD, private registry ê¸°ëŠ¥ì„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆìŒ.
]

.half-right[
## CircleCI
- GitHub, CircleCI ëª¨ë‘ system admin ì´ ë‹´ë‹¹.
- ê°œë°œìê°€ Self-hostedë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” VMì´ë‚˜ ë¬¼ë¦¬ë¨¸ì‹ ì´ ì—†ìŒ.
]
]

.think[
- GitLabCIëŠ” Self-hosted ë¹Œë“œì„œë²„(gitlab-runner) ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ì§€ë§Œ CircleCIëŠ” SaaSí˜•íƒœë¡œë§Œ ì œê³µë©ë‹ˆë‹¤.
- ìŠ¬ë¼ì´ë“œì—ì„œëŠ” ì„œë²„ ê°œë°œìë¡œì„œ GitLabCI Self-hosted runner ì‚¬ìš© ê²½í—˜ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•©ë‹ˆë‹¤.
- .icon-gitlab[![](./img/logo-gitlab.png)]Self-hosted ë¨¸ì‹  ì‚¬ìš©ì€ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ê°€ëŠ¥í•˜ì—¬ ë­ë“ ì§€ í•  ìˆ˜ ìˆì§€ë§Œ,
- .icon-circleci[![](./img/logo-circleci.png)]ë¹Œë“œ í™˜ê²½ ìš´ì˜íŒ€ì´ ì•„ë‹Œ ì¼ë°˜ ê°œë°œì(ì‚¬ìš©ì)ê°€ gitlab-runnerë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì˜ ê´€ë¦¬í•´ë³´ê³  ì‹¶ì€ ìœ í˜¹ì— ë¹ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]GitLabCI êµ¬ì„± íŒŒì¼ì— `tags` í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŸ¬ë„ˆë¥¼ ì„ íƒ í•˜ëŠ”ë°, ì‚¬ìš©ìê°€ gitlab-runnerì˜ êµ¬ì„±ê¹Œì§€ ì•Œì•„ì•¼í•©ë‹ˆë‹¤.
]
.space-height-400[]
.img-big[![](./img/gitlab-ci-tags.png)]


---

class: gvsc-page

# Available Executor

.flexBox[
.half-left[
## GitLabCI
- Shell (Bash / Windows Batch / PowerShell)
- Parallels / VirtualBox (Windows, Linux, macOS or FreeBSD)
- Docker
- Docker Machine (auto-scaling)
- Kubernetes
- SSH
- Custom
]

.half-right[
## CircleCI
- Within Docker images (docker)
- Within a Linux virtual machine (VM) image (machine)
- Within a macOS VM image (macos)
- Within a windows VM image (windows)
]
]

.think[
- ê³µí†µì ìœ¼ë¡œ docker, shell(machine) executorë¥¼ ì§€ì›í•˜ì§€ë§Œ,
- .icon-gitlab[![](./img/logo-gitlab.png)]GitLabCIê°€ FreeBSD, Kubernetes, Custom executor ë“± ë” ë§ì€ í™˜ê²½ì„ ì§€ì›í•©ë‹ˆë‹¤.
]

---

class: gvsc-page

# Entry configure file

.flexBox[
.half-left[
## [GitLabCI](https://docs.gitlab.com/ee/ci/yaml/)
- Default: `<projectRoot>/.gitlab-ci.yml`
- [Custom CI configuration path](https://docs.gitlab.com/ee/user/project/pipelines/settings.html#custom-ci-configuration-path)
.space-height-20[]
.img-border[![](./img/custom-ci-configuration-path.png)]
]

.half-right[
## [CircleCI](https://circleci.com/docs/2.0/configuration-reference/)
- `<projectRoot>/.circleci/config.yml`
]
]

.think[
- ëª¨ë‘ yml êµ¬ì„± íŒŒì¼ì„ ì‚¬ìš©í•˜ë©°, GitLabCIëŠ” ì…‹íŒ…ì„ í†µí•´ ë¡œì»¬íŒŒì¼, ê°™ì€ GitLabë‚´ ë‹¤ë¥¸ ì €ì¥ì†Œì˜ íŒŒì¼, ì›ê²©ì˜ yml íŒŒì¼ì„ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ”ë°,
- .icon-gitlab[![](./img/logo-gitlab.png)] ì˜ˆë¥¼ë“¤ì–´ ê°œë°œì˜ ë¡¤ê³¼ **ë¦´ë¦¬ìŠ¤ ì—”ì§€ë‹ˆì–´ë§**ì˜ ë¡¤ì´ ì„œë¡œ ë‹¤ë¥¸ íŒ€ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ì—ì„œ ìœ ìš©í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
]


---

class: gvsc-page

# Configure file - Auto completion by scheme

.flexBox-2-1[
.half-left[
.img-big-90p[![](./img/auto-complete.png)]
]

.half-right[
- VS Code - YAML extension
- http://schemastore.org/json/
]
]

.footnote[.text[ë‘ ì†”ë£¨ì…˜ ëª¨ë‘ VS Codeë“±ì˜ ì—ë””í„°ë¥¼ í†µí•´ ì»¨í”¼ê·¸ íŒŒì¼ ì‘ì„±ì‹œ ìë™ì™„ì„±, ë°¸ë¦¬ë°ì´ì…˜ ì²´í¬ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤]]

---

class: gvsc-page, scroll

# Configure file - lint

.flexBox[
.half-left[
## GitLabCI

```yml
https://gitlab.com/<namespace>/<projectName>/-/ci/lint
```

```yml
https://gitlab.com/help/api/lint.md
```
]

.half-right[
## CircleCI

```yml
$ brew install circleci
$ circleci config validate
Config file at .circleci/config.yml is valid.
```

```yml
$ circleci config validate
Error: ERROR IN CONFIG FILE:
[#] required key [jobs] not found
```
]
]

.think-relative[
.img-big[![](./img/ci-lint-button.png)]
.img-big[![](./img/ci-lint-result.png)]
.img-big[![](./img/error-circleci.png)]
]

.footnote[.text[GitLabCIëŠ” WebUIì™€ APIë¥¼ í†µí•´ êµ¬ì„±íŒŒì¼ lintë¥¼ ì œê³µí•˜ê³  CircleCIëŠ” CLI ëª…ë ¹ì–´ë¥¼ í†µí•´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤]]

---

class: gvsc-page, hljs-font-size-26

# Hello world

.flexBox[
.half-left[
## GitLabCI

```yml
some-job-name:
  script: echo "Hello world"
```
]

.half-right[
## CircleCI

```yml
version: 2
jobs:
  build:
    docker:
      - image: circleci/ruby:2.7.0
    steps:
      - checkout
      - run: echo "Hello world"
```
]
]

.think[
- ë¹Œë“œì˜ ì‹¤í–‰ ë‹¨ìœ„ëŠ” ëª¨ë‘ job ì´ë¼ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIì—ì„œëŠ” ì‚¬ìš©í•  ë„ì»¤ ì´ë¯¸ì§€ì™€ ë²„ì „ì„ ëª…ì‹œí•´ì•¼í•˜ê³ , ì €ì¥ì†Œì˜ í˜•ìƒì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒë„ `checkout` stepìœ¼ë¡œ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
- ë°˜ë©´ GitLabì€ **ê¸°ë³¸ë™ì‘**ìœ¼ë¡œ ì €ì¥ì†Œì˜ í˜•ìƒì„ ê°€ì ¸ì˜¤ê³ , ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ default ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
]


---

class: gvsc-page, hljs-font-size-26

# Docker image

.flexBox[
.half-left[
## GitLabCI

```yml
some-job-name:
  image: ruby:2.7.0
* script: echo "Hello world"
```

ë˜ëŠ”

```yml
*image: ruby:2.7.0

some-job-name:
  script: echo "Hello world"
```
]

.half-right[
## CircleCI

```yml
version: 2
jobs:
  build:
    docker:
*     - image: circleci/ruby:2.7.0
    steps:
      - checkout
      - run: echo "Hello world"
```

]
]

- GitLabCIì—ì„œëŠ” ëª¨ë“  jobì— ì ìš©ë˜ëŠ” ì „ì—­ Docker image ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- CircleCIëŠ” [Pre-Built CircleCI Docker Images](https://circleci.com/docs/2.0/circleci-images/) ì œê³µ ë° ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.

---

class: gvsc-page

# Docker image from private registry

.flexBox[
.half-left[
## GitLabCI
- [GitLab Container Registry](https://docs.gitlab.com/ee/user/packages/container_registry/)ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
- í•˜ì§€ë§Œ ì™¸ë¶€ì˜ private registryì˜ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´,
  [amazon-ecr-credential-helper](https://github.com/awslabs/amazon-ecr-credential-helper) í”„ë¡œì íŠ¸ ë“±ì˜ ë„ì›€ì„ ë°›ì•„
  yml ë¹Œë“œ êµ¬ì„± íŒŒì¼ì´ ì•„ë‹Œ [gitlab-runner](https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#define-an-image-from-a-private-container-registry)ì—
  ì§ì ‘ ì„¤ì • í•´ì•¼ í•©ë‹ˆë‹¤.
]
.half-right[
## CircleCI

```yml
docker:
  - image: "docker.rt.ourenterprise.net/ci-build:1.0.0"
    auth:
      username: $DOCKER_AUTH_USERNAME
      password: $DOCKER_AUTH_PASSWORD
```

```yml
docker:
  - image: "550000000022.dkr.ecr.eu-west-2.amazonaws.com/ci-build:0.4.1"
    aws_auth:
      aws_access_key_id: $AWS_ACCESS_KEY_ID
      aws_secret_access_key: $AWS_SECRET_ACCESS_KEY
```
]
]

.think[
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIëŠ” ì»¨í”¼ê·¸ íŒŒì¼ì— auth ì •ë³´ë§Œ ì¶”ê°€í•˜ë©´ **private registry**ì— ìˆëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ID/Password ë°©ì‹ê³¼ AWS Credentialì„ í†µí•œ AWS ECR(Elastic Container Registry)ì„ ì§€ì›í•©ë‹ˆë‹¤.
]

---

class: gvsc-page, scroll, hljs-font-size-22

# Multiple jobs

.center[![](./img/stage.png)]

.flexBox[
.half-left[
## GitLabCI

```yml
job1:
  stage: build
  script: make build dependencies

job2:
  stage: build
  script: make build artifacts

job3:
  stage: test
  script: make test

job4:
  stage: deploy
  script: upload deploy

stages:
  - build
  - test
  - deploy

```
]

.half-right[
## CircleCI

```yml
version: 2
jobs:
  job1:
    steps:
      - checkout
      - run: make build dependencies
  job2:
    steps:
      - checkout
      - run: make build artifacts
  job3:
    steps:
      - checkout
      - run: make test
  job4:
    steps:
      - run: upload deploy

workflows:
  version: 2
  workflow1:
    - job1
    - job2
    - job3:
        requires:
          - job1
          - job2
    - job4:
        requires:
          - job3
```
]
]

- GitLabCIëŠ” **job êµ¬ì„± ì•ˆì— ì´ jobì´ ì–´ë–¤ stageì— ì†í•˜ëŠ”ì§€ ëª…ì‹œ**í•˜ë¯€ë¡œ íŒŒì´í”„ë¼ì¸ ì „ì²´ ëª¨ì–‘ì„ ì•Œê¸° ìœ„í•´ì„  ëª¨ë“  jobë“¤ì„ í™•ì¸í•´ì•¼í•˜ê³ ,
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIëŠ” workflow(pipeline)ê°€ ì–´ë–¤ jobë“¤ë¡œ êµ¬ì„±ë˜ëŠ”ì§€ ë³„ë„ë¡œ ì •ì˜í•˜ê¸° ë•Œë¬¸ì— í•œëˆˆì— ì „ì²´ ëª¨ì–‘ì„ íŒŒì•…í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]ë˜í•œ ì—¬ëŸ¬ê°œì˜ workflowë¥¼ ì •ì˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

class: gvsc-page, hljs-font-size-22

# Cache

.img-big-70p-center[![](./img/Diagram-v3-Cache.png)]

- ìºì‹œëŠ” ë§¤ íŒŒì´í”„ë¼ì¸ì—ì„œ ë°˜ë³µ ì‘ì—…ì„ íš¨ìœ¨í™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
- ì˜ˆë¥¼ë“¤ì–´ `npm install`, `bundle install`, `pip install` ê°™ì´ ì¸í„°ë„·ìœ¼ë¡œë¶€í„° ì˜ì¡´ì„±ì„ ë‚´ë ¤ë°›ëŠ” ì‘ì—…ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

---

class: gvsc-page, hljs-font-size-22

# Cache

.flexBox[
.half-left[
## GitLabCI

```yml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
  policy: pull-push

test_async:
  script:
    - yarn install
    - yarn test
```
]

.half-right[
## CircleCI

```yml
steps:
  - checkout
  - restore_cache:
      key: v1-node-modules-{{ checksum "yarn.lock" }}
  - run: yarn install
  - save_cache:
      key: v1-node-modules-{{ checksum "yarn.lock" }}
      paths:
        - node_modules
  - run: yarn test
```
]
]

.think[
- GitLabCIì—ì„œëŠ” `cache` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•´ì„œ job ì‹¤í–‰ ì‹œì‘ê³¼ ëì— ìºì‹œë¥¼ ë¡œë“œí•˜ê³  ì €ì¥í•©ë‹ˆë‹¤. ì´ ê¸°ë³¸ ë™ì‘ì„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIì—ì„œëŠ” `restore_cache`, `save_cache`ë¥¼ ì–¸ì œë“  ì‚¬ìš© í•  ìˆ˜ ìˆê³ , ìºì‹œ í‚¤ë¥¼ ìƒì„±í•  ë•Œ íŒŒì¼ì˜ `checksum` ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
]

---

class: gvsc-page

# Artifacts

.img-big-70p-center[![](./img/Diagram-v3-Artifact.png)]

- ê° jobì˜ ì‚°ì¶œë¬¼(artifacts)ì„ ì—…ë¡œë“œ í•œ ë’¤ ì´í›„ì— WebUIë‚˜ APIë¥¼ í†µí•´ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì£¼ë¡œ ë‚˜ì¤‘ì— ì°¸ê³ í•  ìš©ë„ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë‚˜ ë¹Œë“œ ì‚°ì¶œë¬¼ì„ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

---

class: gvsc-page

# Artifacts

.flexBox[
.half-left[
## [GitLabCI](https://docs.gitlab.com/ee/ci/yaml/#artifacts)

```yml
build:
  stage: build
  script: |
    echo "my artifact file" > /tmp/artifact-1;
    mkdir /tmp/artifacts;
    echo "my artifact files in a dir" > /tmp/artifacts/artifact-2;

  artifacts:
    expire_in: 90 day
    when: always
    paths:
      - /tmp/artifact-1
      - /tmp/artifacts/
```
]

.half-right[
## [CircleCI](https://circleci.com/docs/2.0/configuration-reference/#store_artifacts)

```yml
steps:
  - run: ...
  - run:
      name: Creating Dummy Artifacts
      command: |
        echo "my artifact file" > /tmp/artifact-1;
        mkdir /tmp/artifacts;
        echo "my artifact files in a dir" > /tmp/artifacts/artifact-2;
      when: always
  - store_artifacts:
      path: /tmp/artifact-1
      destination: artifact-file
  - store_artifacts:
      path: /tmp/artifacts
```
]
]

- GitLabCIì—ì„œëŠ” `artifacts` ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ jobì‹¤í–‰ ì¢…ë£Œ ì „ ì¡°ê±´ì— ë§Œì¡±í•  ê²½ìš° ì—…ë¡œë“œ í•©ë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]GitLabCIì—ì„œëŠ” ì‚¬ìš©ìê°€ ë³´ê´€ ê¸°ì¼ì„ ëª…ì‹œí•˜ì§€ë§Œ CircleCIì—ì„œëŠ” adminì´ ê´€ë¦¬í•©ë‹ˆë‹¤.
- GitLabCIì—ì„œëŠ” ë‹¤ìŒ jobìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œë„ artifactsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIì—ì„œëŠ” store_artifactsë¥¼ ì›í•  ë•Œ ì‚¬ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- TIP: CircleCIì—ì„œëŠ” artifact ì—…ë¡œë“œì‹œ ê°ê°ì˜ íŒŒì¼ ê·¸ëŒ€ë¡œ ì—…ë¡œë“œ í•˜ê¸° ë•Œë¬¸ì— íŒŒì¼ì´ ë§ì„ ê²½ìš° tar í˜¹ì€ zip í›„ ì˜¬ë¦¬ëŠ”ê²Œ ë¹ ë¦…ë‹ˆë‹¤.

---

class: gvsc-page

# Share data among jobs

.img-big-70p-center[![](./img/Diagram-v3-Workspaces.png)]

- jobì€ í•­ìƒ í´ë¦°í•œ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì´ì „ jobì—ì„œ ìƒì„±í•œ íŒŒì¼ë“¤ì€ ë‹¤ìŒ jobì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ë¼ê³  ìƒê°í–ˆì§€ë§Œ "ì–´? GitLabCIì—ì„œëŠ” ì´ì „ jobì—ì„œ ë§Œë“  íŒŒì¼ì´ ìˆëŠ”ë°ìš”?" ê°€ ë°œìƒí•©ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ”,

---

class: gvsc-page

# Share data among jobs

.flexBox[
.half-left[
## GitLabCI
- Artifactsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ë™ì‘ìœ¼ë¡œ ì´ì „ stage jobì—ì„œ ì—…ë¡œë“œ í•´ë‘” artfactsë“¤ì„ jobì‹¤í–‰ ì „ ëª¨ë‘ ë‚´ë ¤ë°›ìŠµë‹ˆë‹¤.
- [dependencies](https://docs.gitlab.com/ee/ci/yaml/README.html#dependencies)ë¥¼ ëª…ì‹œí•´ì„œ default ë™ì‘ì„ ì œì–´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yml
test:linux:
  stage: test
  script: make test:linux
  dependencies:
    - build:linux

  # ë˜ëŠ”
  # dependencies: []
```

- ì–´ ì˜ ë˜ë„¤? - ë¬¸ì„œë¥¼ ë³´ì§€ ì•Šê³  ë„˜ì–´ê° - ë‚˜ì¤‘ì— ì½”ë“œê°€ ë³µì¡í•´ ì¡Œì„ë•Œ ì•ˆë˜ëŠ” ìƒí™©ì´ ë°œìƒë˜ëŠ”ë° ì›ì¸ íŒŒì•…ì´ í˜ë“¬.
]

.half-right[
## [CircleCI](https://circleci.com/docs/2.0/configuration-reference/#persist_to_workspace)
- by `persist_to_workspace`, `attach_workspace` in steps.

```yml
- steps:
    - persist_to_workspace:
        root: /tmp/workspace
        paths:
          - target/application.jar
          - build/*
```

```yml
- steps:
    - attach_workspace:
        at: /tmp/workspace
```

- ì™œ ì´ê²Œ ì•ˆë˜ì§€? - ë¬¸ì„œë¥¼ ë³´ê³  ì…‹íŒ…í•´ì„œ ë¹ ëœ¨ë¦° ë¶€ë¶„ì„ íŒŒì•…í•˜ê³  ì¶”ê°€í•˜ì—¬ ë˜ê²Œí•¨ - ì´ ë•Œì˜ ê²½í—˜ìœ¼ë¡œ ë‚˜ì¤‘ì— ë³µì¡í•œ ìƒí™©ì—ì„œë„ ë¬¸ì œ í•´ê²°ì´ ìˆ˜ì›”.
]

]

- .icon-circleci[![](./img/logo-circleci.png)]ì—¬ëŸ¬ jobê°„ì˜ ë°ì´í„° ê³µìœ  ë¶€ë¶„ë„ GitLabCIëŠ” ê¸°ë³¸ë™ì‘ì— ì˜í•´ ì•”ë¬µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. **ì™œ ì´ê²Œ ë˜ì§€?** vs **ì™œ ì´ê²Œ ì•ˆë˜ì§€?**

---

class: gvsc-page

# Unit test result

.flexBox[
.half-left[
## GitLabCI
- [Coverage ì •ë³´ íŒŒì‹±ì„ ìœ„í•œ ì •ê·œì‹](https://docs.gitlab.com/ee/ci/yaml/#coverage)ì„ ì œê³µí•˜ë©´ coverage % ë¥¼ í‘œì‹œí•´ì£¼ëŠ” badge urlì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![](./img/pipelines_settings_test_coverage.png)

![](./img/pipelines_test_coverage_mr_widget.png)
![](./img/pipelines_settings_badges_edit.png)
]

.half-right[
## CircleCI
- [store_test_results ì†ì„±](https://circleci.com/docs/2.0/configuration-reference/#store_test_results)ì„ ì¶”ê°€í•˜ë©´ WebUIë¥¼ í†µí•´ Unit test summaryë¥¼ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](./img/test-results.png)
]
]

- .icon-gitlab[![](./img/logo-gitlab.png)]CircleCIì—ì„œ coverage % ë±ƒì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” https://coveralls.io/ ê°™ì€ ë³„ë„ì˜ SaaSë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

---

class: gvsc-page

# Linked project

.flexBox[
.half-left[
## GitLabCI
- CircleCIì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë˜‘ê°™ì´ ì‚¬ìš© í•  ìˆ˜ ìˆê³ ,
- ë” ì‰½ê²ŒëŠ” êµ¬ì„± íŒŒì¼ì— `trigger` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ [ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ íŒŒì´í”„ë¼ì¸](https://docs.gitlab.com/ee/ci/multi_project_pipelines.html)ì„ íŠ¸ë¦¬ê±° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![](./img/multi_project_pipeline_graph.png)
- [Cross-project Pipeline Triggering and Visualization](https://docs.google.com/presentation/d/1AVYo0HqTrwG59G2a55YzQhbXX2EKIsxQ-9P7-g_2bQc/edit#slide=id.g5719884475_0_26)
]

.half-right[
## CircleCI
- APIë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê²°ëœ í”„ë¡œì íŠ¸ì˜ ë¹Œë“œë¥¼ Triggerì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Trigger ë˜ë©´ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ Artifactsë¥¼ ë‚´ë ¤ ë°›ê±°ë‚˜ Deploy Keyë¥¼ ì‚¬ìš©í•´ clone ë°›ì•„ ì‚¬ìš©í•˜ë©°,
  git submoduleì„ ì‚¬ìš© í•˜ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.
- í•œê³„: 2020ë…„ 3ì›” ê¸°ì¤€, CircleCI Enterprise(Own private infrastructure) ë²„ì „ì—ì„œëŠ” APIë¡œ ë‹¨ì¼ jobì„ íŠ¸ë¦¬ê±° í•  ìˆœ ìˆì§€ë§Œ Workflowë¥¼ íŠ¸ë¦¬ê±° í•  ìˆœ ì—†ìŠµë‹ˆë‹¤.
]
]

.think[
- ë‹¤ì¤‘ í”„ë¡œì íŠ¸ íŒŒì´í”„ ë¼ì¸ì€ í”„ë¡œì íŠ¸ ê°„ ìƒí˜¸ ì¢…ì†ì„±ì´ í•„ìš”í•œ ì œí’ˆì„ ê°œë°œí•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
- .icon-gitlab[![](./img/logo-gitlab.png)]GitLabCIì—ì„œëŠ” ì»¨í”¼ê·¸ íŒŒì¼ ìˆ˜ì •ë§Œìœ¼ë¡œ í¸ë¦¬í•˜ê²Œ ë‹¤ì¤‘ í”„ë¡œì íŠ¸ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•  ìˆ˜ ìˆê³  Pipeline UIë„ ì œê³µë©ë‹ˆë‹¤.
]

---

class: gvsc-page

# Permission

.flexBox[
.half-left[
## GitLabCI
- ë¹Œë“œ ìˆ˜í–‰ í™˜ê²½ì—ì„œì˜ ì ‘ê·¼ ê¶Œí•œ ë³€í™”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. 8.12 ë²„ì „ë¶€í„° ë¹Œë“œë¥¼ triggerí•œ ìœ ì €ì˜ ê¶Œí•œì„ ìƒì†ë°›ëŠ” [New CI job permissions model](https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html#new-ci-job-permissions-model)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- [Protected variables](https://docs.gitlab.com/ee/ci/variables/#protected-environment-variables)ì€ protected branch, protected tags ë¹Œë“œì‹œì—ë§Œ ì£¼ì…ë˜ë©°,
- [Protected runners](https://docs.gitlab.com/ee/ci/runners/#protected-runners)ëŠ” protected branchì™€ protected tagsì˜ ë¹Œë“œë§Œ ìˆ˜í–‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- [GitLab Permissions ì°¸ê³ ](https://docs.gitlab.com/ee/user/permissions.html)
]

.half-right[
## CircleCI
- Githubì˜ permissionì„ ë”°ë¼ê°‘ë‹ˆë‹¤.
- read, write, admin ê¶Œí•œì´ ìˆìŠµë‹ˆë‹¤.
- read ê¶Œí•œìœ¼ë¡œëŠ” ë¹Œë“œ ë¡œê·¸ë“±ì„ ì¡°íšŒí•  ìˆ˜ ìˆì§€ë§Œ, ë¹Œë“œë¥¼ íŠ¸ë¦¬ê±° ì‹œí‚¤ê±°ë‚˜ retryë¥¼ í•˜ë ¤ë©´ write ì´ìƒì˜ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.
]
]

.think[
- GitLabì´ ë” ë§ì€ ì˜µì…˜ì„ ì œê³µí•˜ë©° ê·¸ ë§Œí¼ ë³µì¡í•©ë‹ˆë‹¤. Protected ì„¤ì •ì€ íŒ€ë‚´ ì˜ ê³µìœ ê°€ ë˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.
- GitLabì€ Enterprise í™˜ê²½ì— ìµœì í™”ëœ ëª¨ìŠµì´ê³  GitHubì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì— ìµœì í™”ëœ ëŠë‚Œì…ë‹ˆë‹¤.
- í•˜ì§€ë§Œ ë‘˜ë‹¤ ë²”ìš©ì ì¸ ì„œë¹„ìŠ¤ì¸ ë§Œí¼ ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œëŠ” ë‘ ì†”ë£¨ì…˜ ëª¨ë‘ í° ë¬¸ì œëŠ” ì—†ìŠµë‹ˆë‹¤.
]

---

class: gvsc-page, scroll

# Predefined Environment variables

- ë‘ ì†”ë£¨ì…˜ ëª¨ë‘ Buildì‹œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” í™˜ê²½ë³€ìˆ˜ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.
- GitLabCIì—ì„œëŠ” Group-level Variables, CircleCIì—ì„œëŠ” Contextë¡œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í™˜ê²½ë³€ìˆ˜ë¥¼ ì…‹íŒ… í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]CircleCIëŠ” `Built-in` í™˜ê²½ë³€ìˆ˜ì™€ Build Settingì—ì„œ ìœ ì €ê°€ ì œê³µí•œ í™˜ê²½ë³€ìˆ˜ë¥¼ `Spin up Environment` stepì—ì„œ ë¡œê·¸ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.
  (ìœ ì €ê°€ ì œê³µí•œ í™˜ê²½ë³€ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Masking ì²˜ë¦¬ë¨)

.img-big[![](./img/spin-up-environment.png)]

---

class: gvsc-page, scroll

# Environment variables

.flexBox[
.half-left[
## GitLabCI
- ì „ì—­ ë˜ëŠ” job ë²”ìœ„ì˜ í™˜ê²½ë³€ìˆ˜ ì…‹íŒ…ì„ ì§€ì›í•©ë‹ˆë‹¤.

```yml
variables:
  DATABASE_URL: "postgres://postgres@postgres/my_database"
```

```yml
job_name:
  variables:
    DATABASE_URL: "postgres://postgres@postgres/my_database"
```
]

.half-right[
## CircleCI
- job ë˜ëŠ” step ë²”ìœ„ì˜ í™˜ê²½ë³€ìˆ˜ ì…‹íŒ…ì„ ì§€ì›í•©ë‹ˆë‹¤.

```yml
jobs:
  build:
    docker:
      - image: buildpack-deps:trusty
    environment:
      TEST_DATABASE_URL: postgresql://ubuntu@localhost/circle_test
```

```
    steps:
      - checkout
      - run:
          name: Run migrations
          command: sql/docker-entrypoint.sh sql
          environment:
            DATABASE_URL: postgres://conductor:@localhost:5432/test
```
]
]

---

class: gvsc-page, scroll

# Environment variables on runtime

- GitLabCIì—ì„œì˜ í™˜ê²½ë³€ìˆ˜ëŠ” script ì‹¤í–‰ ë‚´ë‚´ ê³µìœ ë˜ì§€ë§Œ,
- CircleCIì—ì„œëŠ” ë§¤ stepì´ ìƒˆë¡œìš´ ì‰˜ ì‹¤í–‰ í™˜ê²½ì´ë¯€ë¡œ stepê°„ í™˜ê²½ë³€ìˆ˜ ê³µìœ ê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê³µìœ ë¥¼ ìœ„í•´ [BASH_ENV](https://circleci.com/docs/2.0/env-vars/#using-bash_env-to-set-environment-variables)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]ì²˜ìŒì—” GitLabë°©ì‹ì´ í¸ë¦¬í–ˆìœ¼ë‚˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ë³µì¡í•´ì§€ê³  ë¸”ë¡í™” ë¨ì— ë”°ë¼ CircleCIì˜ ë°©ì‹ì´ ì‚¬ì´ë“œ ì´í™ ì—†ê³  ë” ì¢‹ì•˜ìŠµë‹ˆë‹¤.
- ì•„ë˜ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ë‘ê°œì˜ AWS Credentialì„ ì…‹íŒ…í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.

.flexBox[
.half-left[
## GitLabCI
```yml
.deploy: &deploy
  script:
    - node scriptA.js
    - TMP_ACCESS=$AWS_ACCESS_KEY_ID
    - TMP_SECERT=$AWS_SECRET_ACCESS_KEY

    - export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_FOR_BINARY
    - export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_FOR_BINARY
    - time aws s3 cp $BINARY_S3PATH tmp.tar.gz

    - export AWS_ACCESS_KEY_ID=$TMP_ACCESS
    - export AWS_SECRET_ACCESS_KEY=$TMP_SECERT
    - node scriptB.js
```
```
deploy_dev:
  <<: *deploy
  variables:
    AWS_ACCESS_KEY_ID: $ACCESS_KEY_DEV
    AWS_SECRET_ACCESS_KEY: $SECRET_KEY_DEV

deploy_stg:
  <<: *deploy
  variables:
    AWS_ACCESS_KEY_ID: $ACCESS_KEY_STG
    AWS_SECRET_ACCESS_KEY: $SECRET_KEY_STG
```
]

.half-right[
## CircleCI
```yml
jobs:
  deploy_dev:
    environment:
      AWS_ACCESS_KEY_ID: $ACCESS_KEY_DEV
      AWS_SECRET_ACCESS_KEY: $SECRET_KEY_DEV
    steps:
      - run: &run-a node scriptA.js
      - run: &run-b
          name: run B
          environment:
            AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID_FOR_BINARY
            AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY_FOR_BINARY
          command: time aws s3 cp $BINARY_S3PATH tmp.tar.gz
      - run: &run-c node scriptB.js

  deploy_stg:
    environment:
      AWS_ACCESS_KEY_ID: $ACCESS_KEY_STG
      AWS_SECRET_ACCESS_KEY: $SECRET_KEY_STG
    steps:
      - run: *run-a
      - run: *run-b
      - run: *run-c
```
]
]

---

class: gvsc-page, scroll

# Yaml anchors

.flexBox[
.half-left[
## GitLabCI
- Anchors ì‚¬ìš©ì„ ìœ„í•œ [Hidden keys](https://docs.gitlab.com/ee/ci/yaml/#hidden-keys-jobs) ì„¤ì •ì„ ì œê³µí•©ë‹ˆë‹¤.

```yml
.download_binary: &download_binary
  - time aws s3 cp $BINARY_PATH tmp.tar.gz --only-show-errors
  - tar xvf tmp.tar.gz -C ./asset && rm tmp.tar.gz

.base_image: &base_image node:10.17.0

deploy:
  image: *base_image
    script:
      - *download_binary
      - *serverless_deploy
      - *check_deploy
```

- `script`ì˜ ê°’ íƒ€ì…ì´ `string` ë˜ëŠ” `string[]` ì˜€ê¸° ë•Œë¬¸ì— anchors ì„¤ì •ì´ ë¶ˆí¸í–ˆìœ¼ë‚˜ [GitLabCI 12.5 ë²„ì „ë¶€í„° `(string | string[])[]` íƒ€ì…ì„ í—ˆìš©](https://docs.gitlab.com/ee/ci/yaml/#yaml-anchors-for-script)í•©ë‹ˆë‹¤.
- GitLabCIì—ì„œëŠ” script ì‹¤í–‰ ë‚´ë‚´ í™˜ê²½ë³€ìˆ˜ê°€ ê³µìœ ë˜ë¯€ë¡œ script ì— alias ì‚¬ìš©ì‹œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
]

.half-right[
## CircleCI
- 2.0 ë²„ì „ì˜ êµ¬ì„± íŒŒì¼ì—ì„œëŠ” anchorë¥¼ ìœ„í•œ jobì„ ì •ì˜í•œ í›„ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.
- 2.1 ë²„ì „ì—ì„œëŠ” anchor ë³´ë‹¤ ë”ìš± í¸ë¦¬í•œ ë°©ë²•ìœ¼ë¡œ ì„¤ì •ì„ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” orbs, command, parameters, executors ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

```yml
jobs:
  only_for_anchor:
    docker: &docker
      - image: circleci/node:10.17.0
    steps:
      - run: echo "Do not run this job" && exit 1
      - run: &download_binary
        - name: download binary
          command: |
            time aws s3 cp $BINARY_PATH tmp.tar.gz --only-show-errors
            tar xvf tmp.tar.gz -C ./asset && rm tmp.tar.gz
  deploy:
    docker: *docker
    steps:
      - checkout
      - run: *download_binary
      - run: *serverless_deploy
      - run: *check_deploy
```
]
]

---

class: gvsc-page

# Authoring Configure

.flexBox[
.half-left[
## [GitLabCI](https://docs.gitlab.com/ee/ci/yaml/)
- [include](https://docs.gitlab.com/ee/ci/yaml/#include) í‚¤ì›Œë“œë¡œ ë¡œì»¬íŒŒì¼,
  ê°™ì€ GitLabë‚´ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ íŒŒì¼, ì›ê²©ì˜ yml ì„¤ì • íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- [Example](https://gitlab.com/gitlab-org/gitlab/blob/master/.gitlab-ci.yml)
- [extends](https://docs.gitlab.com/ee/ci/yaml/#extends) í‚¤ì›Œë“œë¡œ ë‹¤ë¥¸ ìœ„ì¹˜ì˜ ì†ì„±ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
]

.half-right[
## [CircleCI](https://circleci.com/docs/2.0/configuration-reference/)
- [fyaml](https://github.com/CircleCI-Public/fyaml) ì§€ì› ë° **2.1**ë²„ì „ ë¶€í„° CircleCIì˜ ì£¼ìš” ê¸°ëŠ¥ì¸ [orbs](https://circleci.com/docs/2.0/configuration-reference/#orbs-requires-version-21),
  [command](https://circleci.com/docs/2.0/configuration-reference/#commands-requires-version-21),
  [parameters](https://circleci.com/docs/2.0/configuration-reference/#parameters-requires-version-21),
  [executors](https://circleci.com/docs/2.0/configuration-reference/#executors-requires-version-21)
  ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yml
version: 2.1
orbs:
    hello: circleci/hello-build@0.0.5
workflows:
    HelloWorkflow:
        jobs:
          - hello/hello-build
```

- í•˜ì§€ë§Œ CircleCI Enterprise(on own private infrastructure)ì—ì„œëŠ” ì•„ì§ 2.1 ì„¤ì •ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  2.1 ë²„ì „ì„ 2.0 ë²„ì „ ì»¨í”¼ê·¸ë¡œ ë³€í™˜ í•  ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¤:
  [`$ circleci config process`](https://circleci.com/docs/2.0/local-cli/#processing-a-config)
]
]

- .icon-gitlab[![](./img/logo-gitlab.png)]GitLabCIëŠ” include ì†ì„±ì„ í†µí•´, CircleCIëŠ” fyaml ìŠ¤í™ êµ¬í˜„ì„ í†µí•´ í•˜ë‚˜ì˜ ì¥í™©í•œ ymlíŒŒì¼ì„ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- GitLabCIëŠ” extends ì†ì„±ìœ¼ë¡œ, CircleCIëŠ”
orbs, commands, parameters, executors ì†ì„±ë“¤ë¡œ ì„¤ì •ì„ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]íŠ¹íˆ [Orb Registry](https://circleci.com/orbs/registry/)ë¥¼ í†µí•´ ì‚¬ìš©ìë“¤ì´ ì„¤ì •ì„ í¸ë¦¬í•˜ê²Œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

class: gvsc-page, scroll, hljs-font-size-12

# Comparison

- Nodejs Serverless ì•±ì„ ë¹Œë“œí•˜ê³  ë°°í¬í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
- ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ ì˜ˆì œë¡œ ì‘ì„±í•œ ë¶€ë¶„ì´ë¼ ì—ëŸ¬ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

.flexBox2[
.child[
## GitLabCI
```yml
image: 550000000022.dkr.ecr.ap-northeast-2.amazonaws.com/ci-build-image:0.6.2
# ECRì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ gitlab-runner ìª½ì˜ ì„¤ì •ë„ í•„ìš”í•©ë‹ˆë‹¤.

stages:
  - test
  - build
  - deploy

test:
  stage: test
  only: [tags,branches]
  tags: [ecr,noproxy]
  script:
    - yarn install
    - yarn run tsc:server
    - yarn run tsc:client
    - yarn run test
  cache:
    key: ${CI_COMMIT_REF_SLUG}
    paths:
      - node_modules/
  artifacts:
    expire_in: 90 day
    when: always
    paths:
      - lib/
      - coverage/

.build:
  stage: build
  tags: [ecr,noproxy]
  script:
    - yarn install
    - npx serverless package --package my-artifacts
  artifacts:
    expire_in: 90 day
    paths:
      - my-artifacts/

.deploy: &deploy
  stage: deploy
  tags: [ecr,noproxy]
  script:
    - >
      if [ "$DEPLOY_ENV" = "dev" ]; then
        export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_FOR_MKDOCS
        export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_FOR_MKDOCS
        sed <mkdocs.yml -e "s,{{version}},$GIT_REVISION,">tmp.mkdocs.yml
        time mkdocs build --config-file tmp.mkdocs.yml
        time aws s3 cp site s3://bucket-for-mkdocs/mkdocs-static --recursive --only-show-errors
      fi

    if [ "$DEPLOY_ENV" = "prod" ]; then
      export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_PROD
      export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_PROD
    else
      export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_DEV
      export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_DEV
    fi
    - npx serverless deploy --package my-artifacts
    - aws s3 cp --only-show-errors --recursive site/ s3://example/mkdocs/
    - VERSION_JSON_RESULT=$(time curl $APIGATEWAY_ENDPOINT/health.json --silent)
    - SERVER_GIT_REVISION=$(echo $VERSION_JSON_RESULT | jq -r .gitRevision)
    - if [ "x$SERVER_GIT_REVISION" != "x$GIT_REVISION" ]; then exit 1; fi
  cache:
    key: ${CI_COMMIT_REF_SLUG}
    paths:
      - node_modules/
  artifacts:
    expire_in: 90 day
    paths:
      - site/

deploy_dev_manual:
  only: [branches]
  when: manual
  variables:
    AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID_DEV
    AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY_DEV
    DEPLOY_ENV: dev
  <<: *build

deploy_dev:
  only: [tags]
  variables:
    AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID_DEV
    AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY_DEV
    DEPLOY_ENV: dev
  <<: *build

deploy_prod:
  only: [tags]
  when: manual
  variables:
    AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID_PROD
    AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY_PROD
    DEPLOY_ENV: prod
  <<: *build
```
]

.child[
## CircleCI 2.0
```yml
version: 2

jobs:
  only_for_anchor:
    docker: &docker
      - image: 550000000022.dkr.ecr.ap-northeast-2.amazonaws.com/ci-build-image:0.6.2
        auth:
          username: $USER_CI_DOCKER_AUTH_USERNAME
          password: $USER_CI_DOCKER_AUTH_PASSWORD

    steps:
      # only_for_anchor jobì€ ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” jobì´ ì•„ë‹Œ,
      # ê°€ë…ì„± ë†’ì€ configë¥¼ ìœ„í•´ ë‹¤ë¥¸ jobì—ì„œ anchorë“¤ì„ ì°¸ì¡°í•˜ê¸° ìœ„í•œ job.
      - run: exit 1

      - run: &run_prepare_common_environment
          name: prepare common environment
          command: |
            export GIT_REVISION="$(git describe) - $(git rev-parse --short HEAD)"
            echo "export GIT_REVISION=\"$GIT_REVISION\"" >> $BASH_ENV

      - restore_cache: &restore_cache_node_modules
          name: restore cache node_modules
          keys:
            - v3-dependencies-{{ checksum "yarn.lock" }}
      - run: &yarn_install yarn install
      - save_cache: &save_cache_node_modules
          name: save_cache_node_modules
          paths:
            - node_modules
          key: v3-dependencies-{{ checksum "yarn.lock" }}

      - run: &run_build_and_upload_mkdocs
          name: build and upload mkdocs
          command: |
            sed <mkdocs.yml -e "s,{{version}},$GIT_REVISION,">tmp.mkdocs.yml
            mkdocs build --config-file tmp.mkdocs.yml
            aws s3 cp site s3://bucket-for-mkdocs/mkdocs-static --recursive --only-show-errors
      - store_artifacts: &store_artifacts_site
          path: site

      - run: &run_serverless_package |
          npx serverless package --package my-artifacts --verbose
      - persist_to_workspace: &persist_to_workspace_my_artifacts
          root: .
          paths:
            - my-artifacts
      - store_artifacts: &store_artifacts_my_artifacts
          path: my-artifacts
      - attach_workspace: &attach_workspace_my_artifacts
          at: my-artifacts

      - run: &run_serverless_deploy
          name: serverless deploy
          command: |
            npx serverless deploy --package my-artifacts --verbose
            VERSION_JSON_RESULT=$(time curl $APIGATEWAY_ENDPOINT/health.json --silent)
            SERVER_GIT_REVISION=$(echo $VERSION_JSON_RESULT | jq -r .gitRevision)
            if [ "x$SERVER_GIT_REVISION" != "x$GIT_REVISION" ]; then exit 1; fi

      - run: &run_upload_static_file_serving_from_cdn
          name: upload static file(serving from CDN)
          command: |
            time aws s3 sync static-s3-sync s3://$BUCKET_CONNECTED_CDN/example/example2019/

  test:
    docker: *docker
    steps:
      - checkout
      - restore_cache: *restore_cache_node_modules
      - run: *yarn_install
      - save_cache: *save_cache_node_modules

      - run: yarn run tsc:server
      - run: yarn run tsc:client
      - run: yarn run test

      - run: tar zcvf artifacts.tar.gz lib coverage
      - store_test_results:
          path: test-results
      - store_artifacts:
          path: artifacts.tar.gz

  build:
    docker: *docker
    steps:
      - checkout
      - restore_cache: *restore_cache_node_modules
      - run: *yarn_install
      - save_cache: *save_cache_node_modules
      - run: *run_prepare_common_environment

      - run: *run_serverless_package
      - store_artifacts: *store_artifacts_my_artifacts
      - persist_to_workspace: *persist_to_workspace_my_artifacts

  deploy_dev:
    docker: *docker
    steps:
      - checkout
      - restore_cache: *restore_cache_node_modules
      - run: *yarn_install
      - save_cache: *save_cache_node_modules
      - attach_workspace: *attach_workspace_my_artifacts
      - run: *run_prepare_common_environment
      - run:
          name: prepare environment
          command: |
            echo "export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_DEV" >> $BASH_ENV
            echo "export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_DEV" >> $BASH_ENV
            echo "export BUCKET_CONNECTED_CDN=static-files-dev" >> $BASH_ENV
      - run: *run_build_and_upload_mkdocs
      - run: *run_upload_static_file_serving_from_cdn
      - run: *run_serverless_deploy
      - store_artifacts: *store_artifacts_site

  deploy_prod:
    docker: *docker
    environment:
      DEPLOY_ENV: prod
    steps:
      - checkout
      - restore_cache: *restore_cache_node_modules
      - run: *yarn_install
      - save_cache: *save_cache_node_modules
      - attach_workspace: *attach_workspace_my_artifacts
      - run: *run_prepare_common_environment
      - run:
          name: prepare environment
          command: |
            echo "export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_DEV" >> $BASH_ENV
            echo "export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_DEV" >> $BASH_ENV
            echo "export BUCKET_CONNECTED_CDN=static-files-prod" >> $BASH_ENV
      - run: *run_upload_static_file_serving_from_cdn
      - run: *run_serverless_deploy
      - store_artifacts: *store_artifacts_site

workflows:
  version: 2
  commits:
    jobs:
      - test:
          filters: &filters_only_branches
            branches: { only: /.*/ }
            tags: { ignore: /.*/ }
      - build:
          filters: *filters_only_branches
          requires: [test]

  tagging:
    jobs:
      - test:
          filters: &filters_only_tags
            branches: { ignore: /.*/ }
            tags: { only: /.*/ }
      - build:
          filters: *filters_only_tags
          requires: [test]
      - deploy_dev:
          filters: *filters_only_tags
          requires: [build]
      - approve-deploy-prod:
          filters: *filters_only_tags
          type: approval
          requires: [build]
      - deploy_prod:
          filters: *filters_only_tags
          requires: [approve-deploy-prod]
```
]
.child[
## circleci 2.1
```yml
version: 2.1

executors:
  executor-ci-build-image:
    docker: &docker
      - image: 550000000022.dkr.ecr.ap-northeast-2.amazonaws.com/ci-build-image:0.6.2
        auth:
          username: $USER_CI_DOCKER_AUTH_USERNAME
          password: $USER_CI_DOCKER_AUTH_PASSWORD

commands:
  command-prepare-environment:
    parameters:
      access-key: { type: env_var_name }
      secret-key: { type: env_var_name }
      bucket-connected-cdn: { type: string }
    steps:
      - run:
          name: prepare variables of common and each environments
          command: |
            export GIT_REVISION="$(git describe) - $(git rev-parse --short HEAD)"
            echo "export GIT_REVISION=\"$GIT_REVISION\"" >> $BASH_ENV
            echo "export AWS_ACCESS_KEY_ID=${<< parameters.access-key >>}" >> $BASH_ENV
            echo "export AWS_SECRET_ACCESS_KEY=${<< parameters.secret-key >>}" >> $BASH_ENV
            echo "export BUCKET_CONNECTED_CDN=<< parameters.bucket-connected-cdn >> $BASH_ENV

  command-yarn-install:
    description: yarn install with cache
    steps:
      - restore_cache:
          name: restore cache node_modules
          keys:
            - v3-dependencies-{{ checksum "yarn.lock" }}
      - run: yarn install
      - save_cache:
          name: save cache node_modules
          paths:
            - node_modules
          key: v3-dependencies-{{ checksum "yarn.lock" }}

  command-build-and-upload-mkdocs:
    steps:
      - run:
          name: build mkdocs
          command: |
            export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID_FOR_MKDOCS
            export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY_FOR_MKDOCS
            sed <mkdocs.yml -e "s,{{version}},$GIT_REVISION,">tmp.mkdocs.yml
            mkdocs build --config-file tmp.mkdocs.yml
            aws s3 cp site s3://bucket-for-mkdocs/mkdocs-static --recursive --only-show-errors
      - store_artifacts:
          path: site

  command-serverless-package:
    steps:
      - run: npx serverless package --package my-artifacts --verbose
      - persist_to_workspace:
          root: .
          paths:
            - my-artifacts
      - store_artifacts:
          path: my-artifacts

  command-deploy-and-check-serverless:
    steps:
      - run:
          name: serverless deploy
          command: |
            npx serverless deploy --package my-artifacts --verbose
            VERSION_JSON_RESULT=$(time curl $APIGATEWAY_ENDPOINT/health.json --silent)
            SERVER_GIT_REVISION=$(echo $VERSION_JSON_RESULT | jq -r .gitRevision)
            if [ "x$SERVER_GIT_REVISION" != "x$GIT_REVISION" ]; then exit 1; fi

  command-upload-static-s3-sync:
    steps:
      - run:
          name: upload static file(serving from CDN)
          command: |
            time aws s3 sync static-s3-sync s3://$BUCKET_CONNECTED_CDN/example/example2019/

jobs:
  test:
    executor: ci-build-image
    steps:
      - checkout
      - command-yarn-install

      - run: yarn run tsc:server
      - run: yarn run tsc:client
      - run: yarn run test

      - run: tar zcvf artifacts.tar.gz lib coverage
      - store_test_results:
          path: test-results
      - store_artifacts:
          path: artifacts.tar.gz

  build:
    executor: ci-build-image
    steps:
      - checkout
      - command-yarn-install
      - command-serverless-package

  deploy_dev:
    executor: ci-build-image
    steps:
      - checkout
      - command-yarn-install
      - attach_workspace: { at: my-artifacts }
      - command-prepare-environment:
          access-key: AWS_ACCESS_KEY_ID_DEV
          secret-key: AWS_SECRET_ACCESS_KEY_DEV
          bucket-connected-cdn: static-files-dev
      - command-build-and-upload-mkdocs
      - command-upload-static-s3-sync
      - command-deploy-and-check-serverless

  deploy_prod:
    executor: ci-build-image
    steps:
      - checkout
      - command-yarn-install
      - attach_workspace: { at: my-artifacts }
      - command-prepare-environment:
          access-key: AWS_ACCESS_KEY_ID_PROD
          secret-key: AWS_SECRET_ACCESS_KEY_PROD
          bucket-connected-cdn: static-files-prod
      - command-upload-static-s3-sync
      - command-deploy-and-check-serverless

workflows:
  version: 2
  commits:
    jobs:
      - test:
          filters: &filters_only_branches
            branches: { only: /.*/ }
            tags: { ignore: /.*/ }
      - build:
          filters: *filters_only_branches
          requires: [test]

  tagging:
    jobs:
      - test:
          filters: &filters_only_tags
            branches: { ignore: /.*/ }
            tags: { only: /.*/ }
      - build:
          filters: *filters_only_tags
          requires: [test]
      - deploy_dev:
          filters: *filters_only_tags
          requires: [build]
      - approve-deploy-prod:
          filters: *filters_only_tags
          type: approval
          requires: [build]
      - deploy_prod:
          filters: *filters_only_tags
          requires: [approve-deploy-prod]
```
]
]


---

class: gvsc-page

# Debugging

.flexBox[
.half-left[
## GitLabCI
- [gitlab-runnerì˜ `exec` ì»¤ë§¨ë“œ](https://docs.gitlab.com/runner/commands/#limitations-of-gitlab-runner-exec)ë¡œ ë¡œì»¬ì—ì„œ ì‹¤í–‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- 11.3 ë²„ì „ì— [Interactive Web Terminals](https://docs.gitlab.com/ee/ci/interactive_web_terminal/) ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
    - shared-runnerëŠ” ì§€ì›í•˜ì§€ ì•ŠìŒ.
    - ì¦‰ self-hosted gitlab-runnerì˜ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.
]

.half-right[
## CircleCI
- [CLIì˜ `local` ì»¤ë§¨ë“œ](https://circleci.com/docs/2.0/local-cli/#run-a-job-in-a-container-on-your-machine)ë¡œ ë¡œì»¬ì—ì„œ ì‹¤í–‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `rerun with ssh` ë¡œ ë¹Œë“œ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— ì ‘ì† í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](./img/rerun-with-ssh-2.png)
]
]

- *It Works on My Machine* ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì„ ì§€ì›í•©ë‹ˆë‹¤.
- .icon-circleci[![](./img/logo-circleci.png)]yml ì»¨í”¼ê·¸ ë‚´ìš©ì„ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì , `rerun with ssh` ì œê³µ ë“± CircleCIì—ì„œ ì¢€ ë” ì„¬ì„¸í•˜ê³  ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.

---

class: gvsc-page, scroll

# Web UI

.flexBox[
.half-left[
## GitLabCI
- ì˜ˆì©ë‹ˆë‹¤.
- script ëª…ë ¹ì–´ë³„ë¡œ log fold ë‚˜ duration time í‘œì‹œê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
]

.half-right[
## CircleCI
- ì˜ˆì˜ì§€ë§Œ approve type jobì´ í•˜ë‚˜ì˜ jobìœ¼ë¡œ ì¡´ì¬í•˜ëŠ”ê²Œ ì–´ìƒ‰í•˜ê³ 
- ë³‘ë ¬ ì‹¤í–‰ jobê°„ì˜ ìˆœì„œê°€ ë§¤ë²ˆ ë³€ê²½ë˜ëŠ” ë²„ê·¸ê°€ ìˆìŠµë‹ˆë‹¤.
- stepë‹¨ìœ„ë¡œ logë¥¼ ë³¼ ìˆ˜ ìˆê³  duration time í‘œì‹œë„ ë˜ì–´ ìµœì í™”ë¥¼ í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.
]
]

.think[
- .icon-gitlab[![](./img/logo-gitlab.png)]ë§ˆì§€ë§‰ìœ¼ë¡œ UIì˜ ë¹„êµì…ë‹ˆë‹¤. ê°ê°ì˜ ì¥ë‹¨ì ë“¤ì´ ìˆì—ˆì§€ë§Œ íŠ¹íˆ GitLabCIëŠ” GitLabê³¼ ì¼ê´€ì„±ìˆëŠ” UIë¥¼ ê°€ì§€ê³  ìˆì–´ ì ì‘ì´ ë” ì‰¬ì› ìŠµë‹ˆë‹¤.
]

---

class: gvsc-page

# Conclusion

- .icon-gitlab[![](./img/logo-gitlab.png)] ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ì—…ì— ë” ì í•©í•œ ëŠë‚Œ. ì—¬ëŸ¬ ì¡°ì§ê°„ ë‹¤ì–‘í•œ í˜‘ì—… êµ¬ì¡°ì— ë§ëŠ” CI êµ¬ì¡°ë¥¼ êµ¬ì„±í•˜ê¸° í¸ë¦¬í•¨.
    - ì˜ˆ: Multi project pipelineìœ¼ë¡œ ì—°ê´€ ëª¨ë“ˆ ë¹Œë“œ íŠ¸ë¦¬ê±°, configure íŒŒì¼ì„ ìš´ì˜íŒ€ Repoì—ì„œ ë”°ë¡œ ê´€ë¦¬ ë“±
- .icon-circleci[![](./img/logo-circleci.png)] ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±, ê´€ë¦¬ê°€ í¸ë¦¬í•¨.
- ê·¸ëŸ¬ë‚˜ GitLabCI, CircleCI ëª¨ë‘ ë²”ìš©ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” íˆ´ì¸ ë§Œí¼ ëŒ€ë¶€ë¶„ì˜ ìœ ì¦ˆ ì¼€ì´ìŠ¤ë¥¼ ì»¤ë²„ í•  ìˆ˜ ìˆìŒ.

## ì†”ë£¨ì…˜ ë„ì…ì‹œ ê³ ë ¤í•´ì•¼ í•  ê²ƒ
- ì‚¬ìš©ì ê·œëª¨ì™€ ë¹„ìš©.
- ì‚¬ìš©ìë“¤ì´ í•„ìš”í•œ ë¹Œë“œ í™˜ê²½ì´ ë¬´ì—‡ì¸ì§€.
- ì§€ê¸ˆ ì‚¬ìš©í•˜ê³  ìˆëŠ” íˆ´ê³¼ì˜ í†µí•©ì€ ì˜ ë˜ëŠ”ì§€, ì¤‘ë³µì€ ì—†ëŠ”ì§€.
- ê° ì œí’ˆì˜ ë¡œë“œë§µì„ ë³´ë©´ì„œ ì•ìœ¼ë¡œ ì¶œì‹œë  ê¸°ëŠ¥ì´ ë¬´ì—‡ì¸ì§€.
- ê·¸ ì™¸ ì œí’ˆ? GitLabCIì™€ CircleCIì˜ ì¥ì ë“¤ë§Œ ì±„íƒí•´ì„œ ë‚˜ì˜¨ ëŠë‚Œì˜ [GitHub Actions](https://help.github.com/en/actions)!!
    - GitHub-hosted runner, Self-hosted runner
    - Steps
    - [Orbs registry](https://circleci.com/orbs/registry/) -> [Marketplace](https://github.com/marketplace)
    - AweSome UI,UX,DX

.footnote[.text[ìƒí™©ì— ë”°ë¥¸ ìµœì„ ì˜ ê²°ì •ì´ ìˆì„ ë¿ ì •ë‹µì€ ì—†ìŠµë‹ˆë‹¤]]

---

class: page-group-reference

### References
- https://www.youtube.com/watch?v=s8DCpG1PeaU
- https://about.gitlab.com/company/history/
- https://about.gitlab.com/releases/
- https://gitlab.com/gitlab-org/gitlab-foss/blob/master/changelogs/archive.md
- https://about.gitlab.com/releases/2015/09/22/gitlab-8-0-released/
- https://ilya.puchka.me/parametrised-jobs-in-circleci/
- https://about.gitlab.com/devops-tools/circle-ci-vs-gitlab.html
- https://about.gitlab.com/devops-tools/
- https://circleci.com/server/changelog/
- https://circleci.com/docs/2.0/migrating-from-gitlab/
- https://circleci.com/docs/2.0/circleci-images/
- https://circleci.com/docs/2.0/configuration-reference/
- https://circleci.com/blog/build-cicd-piplines-using-docker/
- https://www.katalon.com/resources-center/blog/ci-cd-tools/

---

class: middle, center

# ğŸ™ Thank you ğŸ™‡

    </textarea>
    <div id="timerBox">
      <div id="timer"></div>
      <div id="start">start</div>
    </div>
    <script src="./js/remark-latest.min.js"></script>
    <script>const hljs = remark.highlighter.engine;</script>
    <script src="./js/remark.language.js"></script>
    <script src="./js/user.js"></script>
  </body>
</html>
